@layer neeeda {
  @layer color-scheme {
    :root {
      --neeeda--gradient--accent-a: #f99b35;
      --neeeda--gradient--accent-b: #fc67b2;
      --neeeda--gradient--accent-c: #8b97ea;

      --neeeda--button--background-color: var(--neeeda--color);
      --neeeda--button--color: var(--neeeda--background-color);
    }

    /* Theme color tokens (prefer light-dark() when supported) */
    @supports (color: light-dark(black, white)) {
      :root {
        --neeeda--background-color: light-dark(#fff, #000);
        --neeeda--color: light-dark(#000, #fff);

        --neeeda--countdown-modal--background-color: light-dark(#fff, #171717);
        --neeeda--countdown-box--background-color: light-dark(#e8e8e8, #2e2e2e);

        --neeeda--radial-button--background-color: light-dark(hsl(0 0% 91%), hsl(0 0% 18%));
      }
    }

    /* Fallback: no light-dark() support -> default dark, prefer light if media says so; allow attribute override */
    @supports not (color: light-dark(black, white)) {
      :root {
        --neeeda--background-color: #000;
        --neeeda--color: #fff;

        --neeeda--countdown-modal--background-color: #171717;
        --neeeda--countdown-box--background-color: #2e2e2e;

        --neeeda--radial-button--background-color: hsl(225 20% 18%);
      }

      /* @media (prefers-color-scheme: light) {
        :root {
          --neeeda--background-color: #fff;
          --neeeda--color: #000;

          --neeeda--countdown-modal--background-color: #fff;
          --neeeda--countdown-box--background-color: #e8e8e8;

          --neeeda--radial-button--background-color: hsl(0 0% 91%);
        }
      }
 */
      :root:has(meta[name='color-scheme'][content='light']) {
        --neeeda--background-color: #fff;
        --neeeda--color: #000;

        --neeeda--countdown-modal--background-color: #fff;
        --neeeda--countdown-box--background-color: #e8e8e8;

        --neeeda--radial-button--background-color: hsl(0 0% 91%);
      }
    }

    body {
      background: var(--neeeda--background-color);
      color: var(--neeeda--color);

      /* Smooth theme transitions for page background and text */
      transition:
        background-color 300ms ease,
        color 300ms ease;
    }

    main > section > article {
      &::before {
        background: linear-gradient(var(--neeeda--background-color), transparent);
      }

      &::after {
        background: linear-gradient(transparent, var(--neeeda--background-color));
      }
    }
  }
}
